{"version":3,"sources":["all.js"],"names":["loginEmail","document","querySelector","loginPSW","signUpEmail","signUpPSW","signUpBtn","loginBtn","api_Url","getUserId","localStorage","getItem","getUserToken","logSignPanel","logOutBtn","toAdmin","sightListArea","sightId","location","href","split","likeListArea","perSightArticle","checkLoggedIn","signUp","addEventListener","e","emailVal","value","pswVal","obj","email","password","signUpPost","alert","axios","post","then","response","console","log","data","error","token","id","loginPost","accessToken","user","setItem","login","logInChange","textContent","classList","remove","logOut","clear","setTimeout","window","replace","logOutChange","add","adminChange","getSightList","sightData","get","renderSightList","dom","str","forEach","el","title","imgUrl","description","length","innerHTML","getPerSight","perSightData","renderPerSight","err","blogUrl","addToLike","alreadyInLike","likesData","headers","indicate","filter","preventDefault","target","addToLikePost","addToLikesGet","renderAdminLikeList","likeStr","sight"],"mappings":";;AAAA,IAAMA,UAAU,GAAGC,QAAQ,CAACC,aAAT,CAAuB,aAAvB,CAAnB;AACA,IAAMC,QAAQ,GAAGF,QAAQ,CAACC,aAAT,CAAuB,WAAvB,CAAjB;AACA,IAAME,WAAW,GAAGH,QAAQ,CAACC,aAAT,CAAuB,cAAvB,CAApB;AACA,IAAMG,SAAS,GAAGJ,QAAQ,CAACC,aAAT,CAAuB,YAAvB,CAAlB;AACA,IAAMI,SAAS,GAAGL,QAAQ,CAACC,aAAT,CAAuB,YAAvB,CAAlB;AACA,IAAMK,QAAQ,GAAGN,QAAQ,CAACC,aAAT,CAAuB,WAAvB,CAAjB;AACA,IAAMM,OAAO,GAAG,wBAAhB;AACA,IAAMC,SAAS,GAAGC,YAAY,CAACC,OAAb,CAAqB,QAArB,CAAlB;AACA,IAAMC,YAAY,GAAGF,YAAY,CAACC,OAAb,CAAqB,cAArB,CAArB;AACA,IAAME,YAAY,GAAGZ,QAAQ,CAACC,aAAT,CAAuB,eAAvB,CAArB;AACA,IAAMY,SAAS,GAAGb,QAAQ,CAACC,aAAT,CAAuB,YAAvB,CAAlB;AACA,IAAMa,OAAO,GAAGd,QAAQ,CAACC,aAAT,CAAuB,UAAvB,CAAhB;AACA,IAAMc,aAAa,GAAGf,QAAQ,CAACC,aAAT,CAAuB,gBAAvB,CAAtB;AACA,IAAMe,OAAO,GAAGC,QAAQ,CAACC,IAAT,CAAcC,KAAd,CAAoB,GAApB,EAAyB,CAAzB,CAAhB;AACA,IAAMC,YAAY,GAAGpB,QAAQ,CAACC,aAAT,CAAuB,eAAvB,CAArB,C,CAA8D;;AAC9D,IAAMoB,eAAe,GAAGrB,QAAQ,CAACC,aAAT,CAAuB,kBAAvB,CAAxB;;AAEA,SAASqB,aAAT,GAAwB;AACtB,SAAOd,SAAS,IAAIG,YAAb,GAA2B,IAA3B,GAAkC,KAAzC;AACD;;AAED,SAASY,MAAT,GAAiB;AACf,MAAGpB,WAAW,IAAIE,SAAf,IAA4BD,SAA/B,EAAyC;AACvCC,IAAAA,SAAS,CAACmB,gBAAV,CAA2B,OAA3B,EAAoC,UAACC,CAAD,EAAM;AACxC,UAAIC,QAAQ,GAAGvB,WAAW,CAACwB,KAA3B;AACA,UAAIC,MAAM,GAAGxB,SAAS,CAACuB,KAAvB;AACA,UAAIE,GAAG,GAAE,EAAT;AACAA,MAAAA,GAAG,CAACC,KAAJ,GAAYJ,QAAZ;AACAG,MAAAA,GAAG,CAACE,QAAJ,GAAeH,MAAf;AACAI,MAAAA,UAAU,CAACH,GAAD,CAAV;AACAI,MAAAA,KAAK,CAAC,OAAD,CAAL;AACD,KARD;AASD;AACF;;AAED,SAASD,UAAT,CAAoBH,GAApB,EAAwB;AACtBK,EAAAA,KAAK,CAACC,IAAN,WAAc5B,OAAd,eAAgCsB,GAAhC,EACCO,IADD,CACM,UAASC,QAAT,EAAkB;AACxBC,IAAAA,OAAO,CAACC,GAAR,CAAYF,QAAQ,CAACG,IAArB;AACC,GAHD,WAIO,UAASC,KAAT,EAAe;AACpBH,IAAAA,OAAO,CAACC,GAAR,CAAYE,KAAZ;AACD,GAND;AAOD;;AAED,IAAIC,KAAK,GAAG,EAAZ;AACA,IAAIC,EAAE,GAAG,EAAT;;AACA,SAASC,SAAT,CAAmBf,GAAnB,EAAuB;AACrBK,EAAAA,KAAK,CAACC,IAAN,WAAc5B,OAAd,YAA6BsB,GAA7B,EACCO,IADD,CACM,UAASC,QAAT,EAAkB;AACxBC,IAAAA,OAAO,CAACC,GAAR,CAAYF,QAAQ,CAACG,IAArB;AACAE,IAAAA,KAAK,GAAGL,QAAQ,CAACG,IAAT,CAAcK,WAAtB;AACAF,IAAAA,EAAE,GAAGN,QAAQ,CAACG,IAAT,CAAcM,IAAd,CAAmBH,EAAxB;AACAlC,IAAAA,YAAY,CAACsC,OAAb,CAAqB,cAArB,EAAoCL,KAApC;AACAjC,IAAAA,YAAY,CAACsC,OAAb,CAAqB,QAArB,EAA8BJ,EAA9B;AACA5C,IAAAA,UAAU,CAAC4B,KAAX,GAAmB,EAAnB;AACAzB,IAAAA,QAAQ,CAACyB,KAAT,GAAiB,EAAjB;AACAM,IAAAA,KAAK,CAAC,MAAD,CAAL;AACAhB,IAAAA,QAAQ,CAACC,IAAT,GAAgB,aAAhB;AACC,GAXD,WAYO,UAASuB,KAAT,EAAe;AACpBH,IAAAA,OAAO,CAACC,GAAR,CAAYE,KAAZ;AACAR,IAAAA,KAAK,CAAC,gBAAD,CAAL;AACD,GAfD;AAgBD;;AAED,SAASe,KAAT,GAAgB;AACd,MAAGjD,UAAU,IAAIG,QAAd,IAA0BI,QAA7B,EAAsC;AACpCA,IAAAA,QAAQ,CAACkB,gBAAT,CAA0B,OAA1B,EAAmC,UAACC,CAAD,EAAM;AACxC,UAAIC,QAAQ,GAAG3B,UAAU,CAAC4B,KAA1B;AACA,UAAIC,MAAM,GAAG1B,QAAQ,CAACyB,KAAtB;AACA,UAAIE,GAAG,GAAE,EAAT;AACAA,MAAAA,GAAG,CAACC,KAAJ,GAAYJ,QAAZ;AACAG,MAAAA,GAAG,CAACE,QAAJ,GAAeH,MAAf;AACAgB,MAAAA,SAAS,CAACf,GAAD,CAAT;AACC,KAPF;AAQD;AACF;;AAED,SAASoB,WAAT,GAAsB;AACpB,MAAGzC,SAAS,IAAEG,YAAd,EAA2B;AACzBC,IAAAA,YAAY,CAACsC,WAAb,GAA2B,EAA3B;AACApC,IAAAA,OAAO,CAACqC,SAAR,CAAkBC,MAAlB,CAAyB,cAAzB;AACD;AACF;;AAED,SAASC,MAAT,GAAiB;AACf,MAAGxC,SAAH,EAAa;AACXA,IAAAA,SAAS,CAACW,gBAAV,CAA2B,OAA3B,EAAoC,UAACC,CAAD,EAAM;AACxCa,MAAAA,OAAO,CAACC,GAAR,CAAY,KAAZ;AACA9B,MAAAA,YAAY,CAAC6C,KAAb;AACAC,MAAAA,UAAU,CAAC,YAAM;AACfC,QAAAA,MAAM,CAACvC,QAAP,CAAgBwC,OAAhB,CAAwB,GAAxB,EADe,CACe;AAC/B,OAFS,EAEP,GAFO,CAAV;AAGL,KANG;AAOH;AACA;;AAED,SAASC,YAAT,GAAuB;AACrB,MAAG,CAAClD,SAAD,IAAY,CAACG,YAAhB,EAA6B;AAC3BE,IAAAA,SAAS,CAACsC,SAAV,CAAoBQ,GAApB,CAAwB,cAAxB;AACD;AACF;;AAEDpC,MAAM;AACNyB,KAAK;AACLC,WAAW;AACXI,MAAM;AACNK,YAAY;AACZE,WAAW;;AAEX,SAASA,WAAT,GAAsB;AACpB,MAAGxC,YAAH,EAAgB;AACdN,IAAAA,OAAO,CAACqC,SAAR,CAAkBQ,GAAlB,CAAsB,cAAtB;AACD;AACF,C,CAED;;;AAEA,IAAG5C,aAAH,EAAiB;AACf8C,EAAAA,YAAY;AACb;;AAED,IAAIC,SAAS,GAAG,EAAhB;;AACA,SAASD,YAAT,GAAuB;AACrB3B,EAAAA,KAAK,CAAC6B,GAAN,WAAaxD,OAAb,aACC6B,IADD,CACM,UAAAC,QAAQ,EAAG;AACfC,IAAAA,OAAO,CAACC,GAAR,CAAYF,QAAQ,CAACG,IAArB;AACAsB,IAAAA,SAAS,GAAGzB,QAAQ,CAACG,IAArB;AACAwB,IAAAA,eAAe,CAACjD,aAAD,EAAe+C,SAAf,CAAf;AACD,GALD,WAMO,UAAArB,KAAK,EAAG;AACbH,IAAAA,OAAO,CAACC,GAAR,CAAYE,KAAZ,EADa,CAEb;AACD,GATD;AAUD,C,CACD;;;AACA,SAASuB,eAAT,CAAyBC,GAAzB,EAA6BzB,IAA7B,EAAkC;AAC/B,MAAI0B,GAAG,GAAE,EAAT;AACA1B,EAAAA,IAAI,CAAC2B,OAAL,CAAa,UAAAC,EAAE,EAAG;AACjB,QAAOC,KAAP,GAAyCD,EAAzC,CAAOC,KAAP;AAAA,QAAcC,MAAd,GAAyCF,EAAzC,CAAcE,MAAd;AAAA,QAAsBC,WAAtB,GAAyCH,EAAzC,CAAsBG,WAAtB;AAAA,QAAmC5B,EAAnC,GAAyCyB,EAAzC,CAAmCzB,EAAnC;;AACA,QAAGH,IAAI,CAACgC,MAAL,GAAY,CAAf,EAAiB;AACfN,MAAAA,GAAG,gGACSI,MADT,oHAGwBD,KAHxB,mDAIsBE,WAJtB,sDAK2B5B,EAL3B,4GAAH;AAQD,KATD,MASK;AACH,aAAO,EAAP;AACD;;AACDsB,IAAAA,GAAG,CAACQ,SAAJ,GAAgBP,GAAhB;AACA,GAfD;AAgBF,C,CAED;;;AACA,IAAG7C,eAAH,EAAmB;AACjBqD,EAAAA,WAAW;AACZ;;AACD,IAAIC,YAAY,GAAG,EAAnB;;AACA,SAASD,WAAT,GAAsB;AACpBxC,EAAAA,KAAK,CAAC6B,GAAN,WAAaxD,OAAb,oBAA8BS,OAA9B,GACCoB,IADD,CACM,UAAAC,QAAQ,EAAG;AACfC,IAAAA,OAAO,CAACC,GAAR,CAAYF,QAAQ,CAACG,IAArB;AACAmC,IAAAA,YAAY,GAAGtC,QAAQ,CAACG,IAAxB;AACAF,IAAAA,OAAO,CAACC,GAAR,CAAYlB,eAAZ;AACAuD,IAAAA,cAAc,CAACvD,eAAD,EAAiBsD,YAAjB,CAAd;AACD,GAND,WAOO,UAAAE,GAAG,EAAG;AACXvC,IAAAA,OAAO,CAACC,GAAR,CAAYsC,GAAZ;AACD,GATD;AAUD,C,CACD;;;AACA,SAASD,cAAT,CAAwBX,GAAxB,EAA4BzB,IAA5B,EAAiC;AAC7B,MAAO6B,KAAP,GAAkD7B,IAAlD,CAAO6B,KAAP;AAAA,MAAcC,MAAd,GAAkD9B,IAAlD,CAAc8B,MAAd;AAAA,MAAsBC,WAAtB,GAAkD/B,IAAlD,CAAsB+B,WAAtB;AAAA,MAAmCO,OAAnC,GAAkDtC,IAAlD,CAAmCsC,OAAnC;AAAA,MAA4CnC,EAA5C,GAAkDH,IAAlD,CAA4CG,EAA5C;AACAsB,EAAAA,GAAG,CAACQ,SAAJ,mFACYH,MADZ,uHAG2BD,KAH3B,iDAIyBE,WAJzB,mHAM6BO,OAN7B,uNAOyEnC,EAPzE,4IAQyFA,EARzF;AAaF,MAAMoC,SAAS,GAAG/E,QAAQ,CAACC,aAAT,CAAuB,YAAvB,CAAlB;AACA,MAAM+E,aAAa,GAAGhF,QAAQ,CAACC,aAAT,CAAuB,gBAAvB,CAAtB;;AACA,MAAG,IAAH,EAAQ,CAEP;;AACD,MAAIgF,SAAS,GAAG,EAAhB;;AAEA,MAAG3D,aAAa,EAAhB,EACA;AAACY,IAAAA,KAAK,CAAC6B,GAAN,WAAaxD,OAAb,uBAAiCC,SAAjC,2BAAiE;AAChE0E,MAAAA,OAAO,EAAC;AACN,0CAA2BvE,YAA3B;AADM;AADwD,KAAjE,EAKAyB,IALA,CAKK,UAAAC,QAAQ,EAAG;AAChB4C,MAAAA,SAAS,GAAG5C,QAAQ,CAACG,IAArB;AACAF,MAAAA,OAAO,CAACC,GAAR,CAAY0C,SAAZ;AACA3C,MAAAA,OAAO,CAACC,GAAR,CAAYvB,OAAZ;AACA,UAAImE,QAAQ,GAAGF,SAAS,CAACG,MAAV,CAAiB,UAAAhB,EAAE,EAAG;AAAC,eAAOA,EAAE,CAACpD,OAAH,IAAcA,OAArB;AAA6B,OAApD,CAAf;AACAsB,MAAAA,OAAO,CAACC,GAAR,CAAY4C,QAAZ;;AACA,UAAGA,QAAQ,CAACX,MAAT,IAAiB,CAApB,EAAsB;AACrBO,QAAAA,SAAS,CAAC5B,SAAV,CAAoBQ,GAApB,CAAwB,cAAxB;AACA,OAFD,MAEK;AACJqB,QAAAA,aAAa,CAAC7B,SAAd,CAAwBQ,GAAxB,CAA4B,cAA5B;AACA;AAED,KAjBA,WAkBM,UAAAlB,KAAK,EAAG;AACbH,MAAAA,OAAO,CAACC,GAAR,CAAYE,KAAZ;AACD,KApBA;AAqBA,GAtBD,MAsBK;AACHsC,IAAAA,SAAS,CAAC5B,SAAV,CAAoBQ,GAApB,CAAwB,cAAxB;AACAqB,IAAAA,aAAa,CAAC7B,SAAd,CAAwBQ,GAAxB,CAA4B,cAA5B;AACD;;AACDrB,EAAAA,OAAO,CAACC,GAAR,CAAYwC,SAAZ;AACAA,EAAAA,SAAS,CAACvD,gBAAV,CAA2B,OAA3B,EAAoC,UAACC,CAAD,EAAM;AACxCA,IAAAA,CAAC,CAAC4D,cAAF;AACA/C,IAAAA,OAAO,CAACC,GAAR,CAAYd,CAAC,CAAC6D,MAAd;AACD,GAHD,EAjD+B,CAqDhC;AACA,C,CAED;AACA;;;AAEA,SAASC,aAAT,GAAwB;AACtBrD,EAAAA,KAAK,CAACC,IAAN,WAAc5B,OAAd,gBAAiC,EAAjC,EACC6B,IADD,CACM,UAAAC,QAAQ,EAAG,CAEhB,CAHD,WAIO,UAAAI,KAAK,EAAG;AACbH,IAAAA,OAAO,CAACC,GAAR,CAAYE,KAAZ;AACD,GAND;AAOD;;AAED+C,aAAa;AACb,IAAIP,SAAS,GAAG,EAAhB;;AACA,SAASO,aAAT,GAAwB;AACtBtD,EAAAA,KAAK,CAAC6B,GAAN,WAAaxD,OAAb,uBAAiCC,SAAjC,2BAAiE;AAC/D0E,IAAAA,OAAO,EAAC;AACN,wCAA2BvE,YAA3B;AADM;AADuD,GAAjE,EAKCyB,IALD,CAKM,UAAAC,QAAQ,EAAG;AACjBC,IAAAA,OAAO,CAACC,GAAR,CAAYF,QAAQ,CAACG,IAArB;AACAyC,IAAAA,SAAS,GAAG5C,QAAQ,CAACG,IAArB;AACAiD,IAAAA,mBAAmB,CAACrE,YAAD,EAAc6D,SAAd,CAAnB;AACC,GATD,WAUO,UAAAxC,KAAK,EAAG;AACbH,IAAAA,OAAO,CAACC,GAAR,CAAYE,KAAZ;AACD,GAZD;AAaD,C,CAGD;;;AACA,SAASgD,mBAAT,CAA6BxB,GAA7B,EAAiCzB,IAAjC,EAAsC;AACnC,MAAIkD,OAAO,GAAG,EAAd;AACAlD,EAAAA,IAAI,CAAC2B,OAAL,CAAa,UAAAC,EAAE,EAAG;AACjB,oBAAyCA,EAAE,CAACuB,KAA5C;AAAA,QAAOtB,KAAP,aAAOA,KAAP;AAAA,QAAcC,MAAd,aAAcA,MAAd;AAAA,QAAsBC,WAAtB,aAAsBA,WAAtB;AAAA,QAAmC5B,EAAnC,aAAmCA,EAAnC;AACA+C,IAAAA,OAAO,oFACKpB,MADL,gHAGoBD,KAHpB,iDAIkBE,WAJlB,qKAKmH5B,EALnH,0DAAP;AAQAsB,IAAAA,GAAG,CAACQ,SAAJ,GAAgBiB,OAAhB;AACA,GAXD;AAYF,C,CAGD","file":"all.js","sourcesContent":["const loginEmail = document.querySelector('.loginEmail');\nconst loginPSW = document.querySelector('.loginPSW');\nconst signUpEmail = document.querySelector('.signUpEmail');\nconst signUpPSW = document.querySelector('.signUpPSW');\nconst signUpBtn = document.querySelector('.signUpBtn');\nconst loginBtn = document.querySelector('.loginBtn');\nconst api_Url = 'http://localhost:3005/';\nconst getUserId = localStorage.getItem('userId');\nconst getUserToken = localStorage.getItem('user1hrToken');\nconst logSignPanel = document.querySelector('.logSignPanel');\nconst logOutBtn = document.querySelector('.logOutBtn');\nconst toAdmin = document.querySelector('.toAdmin');\nconst sightListArea = document.querySelector('.sightListArea');\nconst sightId = location.href.split(\"=\")[1];\nconst likeListArea = document.querySelector('.likeListArea'); //後台收藏\nconst perSightArticle = document.querySelector('.perSightArticle');\n\nfunction checkLoggedIn(){\n  return getUserId && getUserToken? true : false;\n}\n\nfunction signUp(){\n  if(signUpEmail && signUpBtn && signUpPSW){\n    signUpBtn.addEventListener('click', (e) =>{\n      let emailVal = signUpEmail.value;\n      let pswVal = signUpPSW.value;\n      let obj ={};\n      obj.email = emailVal;\n      obj.password = pswVal;\n      signUpPost(obj);\n      alert('註冊成功！');\n    })\n  }\n}\n\nfunction signUpPost(obj){\n  axios.post(`${api_Url}register`,obj)\n  .then(function(response){\n  console.log(response.data);\n  })\n  .catch(function(error){\n    console.log(error);\n  })\n}\n\nlet token = '';\nlet id = '';\nfunction loginPost(obj){\n  axios.post(`${api_Url}login`,obj,)\n  .then(function(response){\n  console.log(response.data);\n  token = response.data.accessToken;\n  id = response.data.user.id;\n  localStorage.setItem('user1hrToken',token);\n  localStorage.setItem('userId',id);\n  loginEmail.value = \"\";\n  loginPSW.value = \"\";\n  alert('登入成功');\n  location.href = '/index.html';\n  })\n  .catch(function(error){\n    console.log(error);\n    alert('帳號或密碼不存在，請重新輸入');\n  })\n}\n\nfunction login(){\n  if(loginEmail && loginPSW && loginBtn){\n    loginBtn.addEventListener('click', (e) =>{\n     let emailVal = loginEmail.value;\n     let pswVal = loginPSW.value;\n     let obj ={};\n     obj.email = emailVal;\n     obj.password = pswVal;\n     loginPost(obj);\n     })\n  }\n}\n\nfunction logInChange(){\n  if(getUserId&&getUserToken){\n    logSignPanel.textContent = '';\n    toAdmin.classList.remove('display-none');\n  }\n}\n\nfunction logOut(){\n  if(logOutBtn){\n    logOutBtn.addEventListener('click', (e) =>{\n      console.log('有點到');\n      localStorage.clear();\n      setTimeout(() => {\n        window.location.replace('/'); //導回首頁\n      }, 300);\n})\n}\n}\n\nfunction logOutChange(){\n  if(!getUserId&&!getUserToken){\n    logOutBtn.classList.add('display-none');\n  }\n}\n\nsignUp();\nlogin();\nlogInChange();\nlogOut();\nlogOutChange();\nadminChange();\n\nfunction adminChange(){\n  if(likeListArea){\n    toAdmin.classList.add('display-none');\n  }\n}\n\n//以上登入註冊區\n\nif(sightListArea){\n  getSightList();\n}\n\nlet sightData = [];\nfunction getSightList(){\n  axios.get(`${api_Url}sights`)\n  .then(response =>{\n    console.log(response.data);\n    sightData = response.data;\n    renderSightList(sightListArea,sightData);\n  })\n  .catch(error =>{\n    console.log(error);\n    //alert('資料庫異常');\n  })\n}\n//首頁渲染產品列表\nfunction renderSightList(dom,data){\n   let str ='';\n   data.forEach(el =>{\n    const {title, imgUrl, description, id} = el;\n    if(data.length>0){\n      str+=`<div class=\"col-lg-3 card my-4 mx-3\" style=\"width: 18rem;\">\n      <img src=\"${imgUrl}\" class=\"card-img-top\" alt=\"\">\n      <div class=\"card-body\">\n        <h5 class=\"card-title\">${title}</h5>\n        <p class=\"card-text\">${description}</p>\n        <a href=\"/article.html?id=${id}\" class=\"btn btn-primary text-white\">看更多資訊...</a>\n      </div>\n    </div>`;\n    }else{\n      return '';\n    }\n    dom.innerHTML = str;\n   })\n}\n\n//單頁article get\nif(perSightArticle){\n  getPerSight();\n}\nlet perSightData = {};\nfunction getPerSight(){\n  axios.get(`${api_Url}sights/${sightId}`)\n  .then(response =>{\n    console.log(response.data);\n    perSightData = response.data;\n    console.log(perSightArticle);\n    renderPerSight(perSightArticle,perSightData);\n  })\n  .catch(err =>{\n    console.log(err);\n  })\n}\n//渲染單頁景點文章\nfunction renderPerSight(dom,data){\n    const {title, imgUrl, description, blogUrl, id} = data;\n    dom.innerHTML =`<div class=\"d-flex flex-column align-items-center\">\n    <img src=\"${imgUrl}\" class=\"article-img\" alt=\"\">\n    <div class=\"card-body-article\">\n      <h5 class=\"card-title\">${title}</h5>\n      <p class=\"card-text\">${description}</p>\n      <div class=\"btnArea d-flex justify-content-between\">\n      <a target=\"_blank\" href=\"${blogUrl}\" class=\"btn btn-secondary text-white mt-4 me-8\">點我看參考部落格文章！</a>\n      <button class=\"btn btn-info text-white mt-4 ms-8 addToLike\" data-id=\"${id}\">♡ 收藏</button>\n      <button class=\"disabled btn btn-success text-white mt-4 ms-8 alreadyInLike\" data-id=\"${id}\">&#10003;已收藏</button>\n    </div>\n    </div>\n  </div>`;\n\n  const addToLike = document.querySelector('.addToLike');\n  const alreadyInLike = document.querySelector('.alreadyInLike');\n  if(true){\n\n  }\n  let likesData = [];\n\n  if(checkLoggedIn())\n  {axios.get(`${api_Url}600/users/${getUserId}/likes?_expand=sight`,{\n    headers:{\n      \"authorization\": `Bearer ${getUserToken}`\n    }\n  })\n  .then(response =>{\n   likesData = response.data;\n   console.log(likesData);\n   console.log(sightId);\n   let indicate = likesData.filter(el =>{return el.sightId == sightId});\n   console.log(indicate);\n   if(indicate.length!=0){\n    addToLike.classList.add('display-none');\n   }else{\n    alreadyInLike.classList.add('display-none');\n   }\n\n  })\n  .catch(error =>{\n    console.log(error);\n  });\n  }else{\n    addToLike.classList.add('display-none');\n    alreadyInLike.classList.add('display-none');\n  }\n  console.log(addToLike);\n  addToLike.addEventListener('click', (e) =>{\n    e.preventDefault();\n    console.log(e.target);\n  })\n //收藏功能記得加到這，總\n}\n\n//收藏功能\n//監聽收藏按鈕\n\nfunction addToLikePost(){\n  axios.post(`${api_Url}600/likes`,{})\n  .then(response =>{\n  \n  })\n  .catch(error =>{\n    console.log(error);\n  });\n}\n\naddToLikesGet();\nlet likesData = [];\nfunction addToLikesGet(){\n  axios.get(`${api_Url}600/users/${getUserId}/likes?_expand=sight`,{\n    headers:{\n      \"authorization\": `Bearer ${getUserToken}`\n    }\n  })\n  .then(response =>{\n  console.log(response.data);\n  likesData = response.data;\n  renderAdminLikeList(likeListArea,likesData);\n  })\n  .catch(error =>{\n    console.log(error);\n  });\n}\n\n\n//渲染後台收藏列表\nfunction renderAdminLikeList(dom,data){\n   let likeStr = '';\n   data.forEach(el =>{\n    const {title, imgUrl, description, id} = el.sight;\n    likeStr += `<div class=\"card my-4 d-flex flex-row likePerCard\">\n    <img src=\"${imgUrl}\" class=\"card-img-top\" alt=\"\">\n    <div class=\"card-body\">\n      <h5 class=\"card-title\">${title}</h5>\n      <p class=\"card-text\">${description}</p>\n      <span class=\"text-success\">&#10003;已收藏</span><a href=\"/article.html\" class=\"btn btn-warning text-white ms-4\" data-id=\"${id}\">取消收藏</a>\n    </div>\n  </div>`;\n    dom.innerHTML = likeStr;\n   })\n}\n\n\n//判定已收藏/未收藏\n\n\n\n"]}